"use client";

import { createContext, useContext, useState, useCallback, type ReactNode } from "react";

export type Locale = "es" | "en" | "de" | "ru";

export const localeNames: Record<Locale, string> = {
  es: "Espanol",
  en: "English",
  de: "Deutsch",
  ru: "Pyccкий",
};

export const localeFlags: Record<Locale, string> = {
  es: "ES",
  en: "EN",
  de: "DE",
  ru: "RU",
};

const translations: Record<Locale, Record<string, string>> = {
  es: {
    "shop.title": "Tienda de Fortnite",
    "shop.refresh": "Actualizar",
    "shop.searchPlaceholder": "Buscar items...",
    "shop.itemsCount": "{filtered} de {total} items",
    "shop.errorTitle": "Error al cargar la tienda",
    "shop.errorDesc": "No se pudo conectar con el servidor de Fortnite.",
    "shop.retry": "Reintentar",
    "shop.noResults": "No se encontraron items",
    "shop.noResultsDesc": "Intenta cambiar los filtros o la busqueda.",
    "shop.footer": "Los datos de la tienda se obtienen de la API publica de Fortnite. No afiliado con Epic Games.",
    "shop.item": "item",
    "shop.items": "items",
    "filter.all": "Todos",
    "rarity.legendary": "Legendario",
    "rarity.epic": "Epico",
    "rarity.rare": "Raro",
    "rarity.uncommon": "Poco Comun",
    "rarity.common": "Comun",
    "rarity.gaminglegends": "Gaming Legends",
    "rarity.marvel": "Marvel",
    "rarity.dc": "DC",
    "rarity.icon": "Icon Series",
    "rarity.starwars": "Star Wars",
    "rarity.shadow": "Shadow",
    "rarity.slurp": "Slurp",
    "rarity.frozen": "Frozen",
    "rarity.lava": "Lava",
    "rarity.dark": "Dark",
    "profile.title": "Perfil",
    "profile.settings": "Configuraciones",
    "profile.email": "Email para notificaciones",
    "profile.emailPlaceholder": "tu@correo.com",
    "profile.emailSave": "Guardar",
    "profile.emailSaved": "Guardado",
    "profile.notifications": "Notificaciones",
    "profile.notificationsDesc": "Recibe alertas de items nuevos",
    "profile.theme": "Tema oscuro",
    "profile.themeDesc": "Cambiar entre modo claro y oscuro",
    "profile.language": "Idioma",
    "profile.logout": "Cerrar sesion",
    "profile.login": "Iniciar sesion",
    "profile.mxnPoints": "MxN Points",
    "profile.vbucks": "1 MxN Points = 1 V-Bucks",
    "profile.recharge": "Recargar",
    "profile.myPurchases": "Mis Compras",
    "profile.redeem": "Canjear",
    "profile.redeemCode": "Codigo de canje",
    "profile.redeemPlaceholder": "Ingresa tu codigo",
    "profile.redeemSuccess": "Codigo canjeado exitosamente",
    "profile.redeemError": "Error al canjear el codigo",
    "search.clear": "Limpiar busqueda",
    "login.title": "Bienvenido",
    "login.subtitle": "Inicia sesion para comprar en la tienda",
    "login.google": "Continuar con Google",
    "login.error": "Error al iniciar sesion",
    "login.loading": "Cargando...",
    "buy.title": "Comprar MxN Points",
    "buy.subtitle": "Selecciona la cantidad de puntos que deseas comprar",
    "buy.selectAmount": "Seleccionar cantidad",
    "buy.popular": "Popular",
    "buy.howToPay": "Como pagar",
    "buy.step1": "1. Selecciona la cantidad de MxN Points",
    "buy.step2": "2. Realiza el pago via WhatsApp o transferencia",
    "buy.step3": "3. Envianos el comprobante",
    "buy.step4": "4. Recibiras tus MxN Points instantly",
    "buy.whatsapp": "Enviar por WhatsApp",
    "buy.transferDetails": "Datos para transferencia",
    "buy.copy": "Copiar",
    "buy.copied": "Copiado",
    "buy.noAccount": "Inicia sesion para comprar",
    "notifications.title": "Notificaciones",
    "notifications.empty": "No hay notificaciones",
    "notifications.new": "nuevo",
    "purchases.title": "Mis Compras",
    "purchases.empty": "No tienes compras todavia",
    "purchases.login": "Inicia sesion para ver tus compras",
    "purchases.yourRedeems": "Tus canjes",
    "purchases.skin": "Skin",
    "purchases.price": "Precio",
    "purchases.fortniteUser": "Usuario Fortnite",
    "purchases.status": "Estado",
    "purchases.date": "Fecha",
    "purchases.email": "Email",
    "purchases.supportChat": "Chat de soporte",
    "purchases.supportDesc": "Escribenos si tenes alguna duda sobre tu compra",
    "purchases.writeMessage": "Escribe un mensaje...",
    "purchases.send": "Enviar",
    "purchases.statusPending": "Pendiente",
    "purchases.statusProcessing": "Procesando",
    "purchases.statusCompleted": "Entregado",
    "purchases.statusCancelled": "Cancelado",
    "chat.title": "Chat de soporte",
    "chat.writeMessage": "Escribe un mensaje...",
    "chat.send": "Enviar",
    "chat.empty": "No hay mensajes todavia",
    "admin.title": "Panel de Admin",
    "admin.accessDenied": "Acceso denegado",
    "admin.notAdmin": "No tienes acceso a este panel",
    "admin.addPoints": "Agregar Puntos",
    "admin.transactions": "Transacciones",
    "admin.purchases": "Compras",
    "admin.chats": "Chats",
    "admin.userEmail": "Email del usuario",
    "admin.userEmailPlaceholder": "usuario@email.com",
    "admin.points": "Puntos a agregar",
    "admin.pointsPlaceholder": "1000",
    "admin.add": "Agregar",
    "admin.adding": "Agregando...",
    "admin.success": "Puntos agregados exitosamente",
    "admin.error": "Error al agregar puntos",
    "admin.user": "Usuario",
    "admin.type": "Tipo",
    "admin.amount": "Cantidad",
    "admin.skin": "Skin",
    "admin.status": "Estado",
    "admin.createdAt": "Fecha",
    "admin.action": "Accion",
    "admin.updateStatus": "Actualizar estado",
    "admin.noTransactions": "No hay transacciones",
    "admin.noPurchases": "No hay compras",
    "admin.confirmDelivery": "Confirmar entrega",
    "redeem.title": "Canjear Skin",
    "redeem.fortniteUser": "Usuario de Fortnite",
    "redeem.fortnitePlaceholder": "Tu usuario de Fortnite",
    "redeem.confirm": "Confirmar canje",
    "redeem.cancel": "Cancelar",
    "redeem.success": "Canjeado exitosamente",
    "redeem.insufficientPoints": "No tienes suficientes MxN Points",
    "redeem.enterUsername": "Ingresa tu usuario de Fortnite",
    "redeem.processing": "Canjeando...",
    "redeem.yourBalance": "Tu saldo",
  },
  en: {
    "shop.title": "Fortnite Shop",
    "shop.refresh": "Refresh",
    "shop.searchPlaceholder": "Search items...",
    "shop.itemsCount": "{filtered} of {total} items",
    "shop.errorTitle": "Error loading shop",
    "shop.errorDesc": "Could not connect to Fortnite server.",
    "shop.retry": "Retry",
    "shop.noResults": "No items found",
    "shop.noResultsDesc": "Try changing the filters or search.",
    "shop.footer": "Shop data obtained from the public Fortnite API. Not affiliated with Epic Games.",
    "shop.item": "item",
    "shop.items": "items",
    "filter.all": "All",
    "rarity.legendary": "Legendary",
    "rarity.epic": "Epic",
    "rarity.rare": "Rare",
    "rarity.uncommon": "Uncommon",
    "rarity.common": "Common",
    "rarity.gaminglegends": "Gaming Legends",
    "rarity.marvel": "Marvel",
    "rarity.dc": "DC",
    "rarity.icon": "Icon Series",
    "rarity.starwars": "Star Wars",
    "rarity.shadow": "Shadow",
    "rarity.slurp": "Slurp",
    "rarity.frozen": "Frozen",
    "rarity.lava": "Lava",
    "rarity.dark": "Dark",
    "profile.title": "Profile",
    "profile.settings": "Settings",
    "profile.email": "Email for notifications",
    "profile.emailPlaceholder": "your@email.com",
    "profile.emailSave": "Save",
    "profile.emailSaved": "Saved",
    "profile.notifications": "Notifications",
    "profile.notificationsDesc": "Receive alerts for new items",
    "profile.theme": "Dark mode",
    "profile.themeDesc": "Switch between light and dark mode",
    "profile.language": "Language",
    "profile.logout": "Log out",
    "profile.login": "Log in",
    "profile.mxnPoints": "MxN Points",
    "profile.vbucks": "1 MxN Points = 1 V-Bucks",
    "profile.recharge": "Recharge",
    "profile.myPurchases": "My Purchases",
    "profile.redeem": "Redeem",
    "profile.redeemCode": "Redeem code",
    "profile.redeemPlaceholder": "Enter your code",
    "profile.redeemSuccess": "Code redeemed successfully",
    "profile.redeemError": "Error redeeming code",
    "search.clear": "Clear search",
    "login.title": "Welcome",
    "login.subtitle": "Log in to shop",
    "login.google": "Continue with Google",
    "login.error": "Error logging in",
    "login.loading": "Loading...",
    "buy.title": "Buy MxN Points",
    "buy.subtitle": "Select the amount of points you want to buy",
    "buy.selectAmount": "Select amount",
    "buy.popular": "Popular",
    "buy.howToPay": "How to pay",
    "buy.step1": "1. Select the amount of MxN Points",
    "buy.step2": "2. Make payment via WhatsApp or transfer",
    "buy.step3": "3. Send us the receipt",
    "buy.step4": "4. You will receive your MxN Points instantly",
    "buy.whatsapp": "Send via WhatsApp",
    "buy.transferDetails": "Transfer details",
    "buy.copy": "Copy",
    "buy.copied": "Copied",
    "buy.noAccount": "Log in to purchase",
    "notifications.title": "Notifications",
    "notifications.empty": "No notifications",
    "notifications.new": "new",
    "purchases.title": "My Purchases",
    "purchases.empty": "You have no purchases yet",
    "purchases.login": "Log in to see your purchases",
    "purchases.yourRedeems": "Your redeems",
    "purchases.skin": "Skin",
    "purchases.price": "Price",
    "purchases.fortniteUser": "Fortnite User",
    "purchases.status": "Status",
    "purchases.date": "Date",
    "purchases.email": "Email",
    "purchases.supportChat": "Support chat",
    "purchases.supportDesc": "Write to us if you have any questions about your purchase",
    "purchases.writeMessage": "Write a message...",
    "purchases.send": "Send",
    "purchases.statusPending": "Pending",
    "purchases.statusProcessing": "Processing",
    "purchases.statusCompleted": "Delivered",
    "purchases.statusCancelled": "Cancelled",
    "chat.title": "Support chat",
    "chat.writeMessage": "Write a message...",
    "chat.send": "Send",
    "chat.empty": "No messages yet",
    "admin.title": "Admin Panel",
    "admin.accessDenied": "Access denied",
    "admin.notAdmin": "You do not have access to this panel",
    "admin.addPoints": "Add Points",
    "admin.transactions": "Transactions",
    "admin.purchases": "Purchases",
    "admin.chats": "Chats",
    "admin.userEmail": "User email",
    "admin.userEmailPlaceholder": "user@email.com",
    "admin.points": "Points to add",
    "admin.pointsPlaceholder": "1000",
    "admin.add": "Add",
    "admin.adding": "Adding...",
    "admin.success": "Points added successfully",
    "admin.error": "Error adding points",
    "admin.user": "User",
    "admin.type": "Type",
    "admin.amount": "Amount",
    "admin.skin": "Skin",
    "admin.status": "Status",
    "admin.createdAt": "Date",
    "admin.action": "Action",
    "admin.updateStatus": "Update status",
    "admin.noTransactions": "No transactions",
    "admin.noPurchases": "No purchases",
    "admin.confirmDelivery": "Confirm delivery",
    "redeem.title": "Redeem Skin",
    "redeem.fortniteUser": "Fortnite Username",
    "redeem.fortnitePlaceholder": "Your Fortnite username",
    "redeem.confirm": "Confirm redeem",
    "redeem.cancel": "Cancel",
    "redeem.success": "Redeemed successfully",
    "redeem.insufficientPoints": "You don't have enough MxN Points",
    "redeem.enterUsername": "Enter your Fortnite username",
    "redeem.processing": "Redeeming...",
    "redeem.yourBalance": "Your balance",
  },
  de: {
    "shop.title": "Fortnite Shop",
    "shop.refresh": "Aktualisieren",
    "shop.searchPlaceholder": "Items suchen...",
    "shop.itemsCount": "{filtered} von {total} Items",
    "shop.errorTitle": "Fehler beim Laden des Shops",
    "shop.errorDesc": "Verbindung zum Fortnite-Server fehlgeschlagen.",
    "shop.retry": "Erneut versuchen",
    "shop.noResults": "Keine Items gefunden",
    "shop.noResultsDesc": "Versuche die Filter oder Suche zu aendern.",
    "shop.footer": "Shopdaten stammen aus der oeffentlichen Fortnite-API. Nicht mit Epic Games verbunden.",
    "shop.item": "Item",
    "shop.items": "Items",
    "filter.all": "Alle",
    "rarity.legendary": "Legendaer",
    "rarity.epic": "Episch",
    "rarity.rare": "Selten",
    "rarity.uncommon": "Ungewoehnlich",
    "rarity.common": "Gewoehnlich",
    "rarity.gaminglegends": "Gaming Legends",
    "rarity.marvel": "Marvel",
    "rarity.dc": "DC",
    "rarity.icon": "Icon Series",
    "rarity.starwars": "Star Wars",
    "rarity.shadow": "Shadow",
    "rarity.slurp": "Slurp",
    "rarity.frozen": "Frozen",
    "rarity.lava": "Lava",
    "rarity.dark": "Dark",
    "profile.title": "Profil",
    "profile.settings": "Einstellungen",
    "profile.email": "E-Mail fuer Benachrichtigungen",
    "profile.emailPlaceholder": "deine@email.de",
    "profile.emailSave": "Speichern",
    "profile.emailSaved": "Gespeichert",
    "profile.notifications": "Benachrichtigungen",
    "profile.notificationsDesc": "Erhalte Benachrichtigungen fuer neue Items",
    "profile.theme": "Dunkler Modus",
    "profile.themeDesc": "Zwischen hellem und dunklem Modus wechseln",
    "profile.language": "Sprache",
    "profile.logout": "Abmelden",
    "profile.login": "Anmelden",
    "profile.mxnPoints": "MxN Points",
    "profile.vbucks": "1 MxN Points = 1 V-Bucks",
    "profile.recharge": "Aufladen",
    "profile.myPurchases": "Meine Einkaeufe",
    "profile.redeem": "Einloesen",
    "profile.redeemCode": "Einloesungscode",
    "profile.redeemPlaceholder": "Code eingeben",
    "profile.redeemSuccess": "Code erfolgreich eingeloest",
    "profile.redeemError": "Fehler beim Einloesen",
    "search.clear": "Suche loeschen",
    "login.title": "Willkommen",
    "login.subtitle": "Melde dich an um einzukaufen",
    "login.google": "Mit Google fortfahren",
    "login.error": "Fehler bei der Anmeldung",
    "login.loading": "Laden...",
    "buy.title": "MxN Points kaufen",
    "buy.subtitle": "Waehle die Anzahl der Punkte",
    "buy.selectAmount": "Betrag waehlen",
    "buy.popular": "Beliebt",
    "buy.howToPay": "Zahlungsmethoden",
    "buy.step1": "1. Waehle die Anzahl der MxN Points",
    "buy.step2": "2. Bezahle per WhatsApp oder Ueberweisung",
    "buy.step3": "3. Sende uns den Beleg",
    "buy.step4": "4. Du erhaelst sofort deine MxN Points",
    "buy.whatsapp": "Per WhatsApp senden",
    "buy.transferDetails": "Ueberweisungsdaten",
    "buy.copy": "Kopieren",
    "buy.copied": "Kopiert",
    "buy.noAccount": "Anmelden zum Kaufen",
    "notifications.title": "Benachrichtigungen",
    "notifications.empty": "Keine Benachrichtigungen",
    "notifications.new": "neu",
    "purchases.title": "Meine Einkaeufe",
    "purchases.empty": "Du hast noch keine Einkaeufe",
    "purchases.login": "Anmelden um Einkaeufe zu sehen",
    "purchases.yourRedeems": "Deine Einloesungen",
    "purchases.skin": "Skin",
    "purchases.price": "Preis",
    "purchases.fortniteUser": "Fortnite Benutzer",
    "purchases.status": "Status",
    "purchases.date": "Datum",
    "purchases.email": "E-Mail",
    "purchases.supportChat": "Support-Chat",
    "purchases.supportDesc": "Schreibe uns wenn du Fragen zu deinem Kauf hast",
    "purchases.writeMessage": "Nachricht schreiben...",
    "purchases.send": "Senden",
    "purchases.statusPending": "Ausstehend",
    "purchases.statusProcessing": "In Bearbeitung",
    "purchases.statusCompleted": "Geliefert",
    "purchases.statusCancelled": "Storniert",
    "chat.title": "Support-Chat",
    "chat.writeMessage": "Nachricht schreiben...",
    "chat.send": "Senden",
    "chat.empty": "Noch keine Nachrichten",
    "admin.title": "Admin-Panel",
    "admin.accessDenied": "Zugriff verweigert",
    "admin.notAdmin": "Du hast keinen Zugang zu diesem Panel",
    "admin.addPoints": "Punkte hinzufuegen",
    "admin.transactions": "Transaktionen",
    "admin.purchases": "Einkaeufe",
    "admin.chats": "Chats",
    "admin.userEmail": "Benutzer-E-Mail",
    "admin.userEmailPlaceholder": "benutzer@email.de",
    "admin.points": "Punkte hinzufuegen",
    "admin.pointsPlaceholder": "1000",
    "admin.add": "Hinzufuegen",
    "admin.adding": "Hinzufuegen...",
    "admin.success": "Punkte erfolgreich hinzugefuegt",
    "admin.error": "Fehler beim Hinzufuegen",
    "admin.user": "Benutzer",
    "admin.type": "Typ",
    "admin.amount": "Menge",
    "admin.skin": "Skin",
    "admin.status": "Status",
    "admin.createdAt": "Datum",
    "admin.action": "Aktion",
    "admin.updateStatus": "Status aktualisieren",
    "admin.noTransactions": "Keine Transaktionen",
    "admin.noPurchases": "Keine Einkaeufe",
    "admin.confirmDelivery": "Lieferung bestaetigen",
    "redeem.title": "Skin einloesen",
    "redeem.fortniteUser": "Fortnite Benutzername",
    "redeem.fortnitePlaceholder": "Dein Fortnite Benutzername",
    "redeem.confirm": "Einloesung bestaetigen",
    "redeem.cancel": "Abbrechen",
    "redeem.success": "Erfolgreich eingeloest",
    "redeem.insufficientPoints": "Du hast nicht genug MxN Points",
    "redeem.enterUsername": "Gib deinen Fortnite Benutzername ein",
    "redeem.processing": "Einloesen...",
    "redeem.yourBalance": "Dein Kontostand",
  },
  ru: {
    "shop.title": "Maгaзин Fortnite",
    "shop.refresh": "Oбновить",
    "shop.searchPlaceholder": "Пoиск предметoв...",
    "shop.itemsCount": "{filtered} из {total} предметов",
    "shop.errorTitle": "Oшибка загрyзки магaзина",
    "shop.errorDesc": "Не yдaлoсь пoдключитьcя к серверy Fortnite.",
    "shop.retry": "Пoвтoрить",
    "shop.noResults": "Предметы не найдены",
    "shop.noResultsDesc": "Пoпрoбyй изменить фильтры или пoиск.",
    "shop.footer": "Данные магaзина пoлyчены из пyбличного API Fortnite. Не связано с Epic Games.",
    "shop.item": "предмет",
    "shop.items": "предметов",
    "filter.all": "Bce",
    "rarity.legendary": "Лeгeндарный",
    "rarity.epic": "Эпический",
    "rarity.rare": "Редкий",
    "rarity.uncommon": "Нeобычный",
    "rarity.common": "Обычный",
    "rarity.gaminglegends": "Gaming Legends",
    "rarity.marvel": "Marvel",
    "rarity.dc": "DC",
    "rarity.icon": "Icon Series",
    "rarity.starwars": "Star Wars",
    "rarity.shadow": "Shadow",
    "rarity.slurp": "Slurp",
    "rarity.frozen": "Frozen",
    "rarity.lava": "Lava",
    "rarity.dark": "Dark",
    "profile.title": "Пpoфиль",
    "profile.settings": "Нacтрoйки",
    "profile.email": "Email для yвeдoмлений",
    "profile.emailPlaceholder": "ваш@email.com",
    "profile.emailSave": "Сoхрaнить",
    "profile.emailSaved": "Сoхрaнeнo",
    "profile.notifications": "Увeдoмления",
    "profile.notificationsDesc": "Пoлyчaть yвeдoмления o нoвых предмeтах",
    "profile.theme": "Тeмнaя тема",
    "profile.themeDesc": "Пeрeключить мeждy свeтлoй и тeмнoй темoй",
    "profile.language": "Язык",
    "profile.logout": "Выйти",
    "profile.login": "Вoйти",
    "profile.mxnPoints": "MxN Points",
    "profile.vbucks": "1 MxN Points = 1 V-Bucks",
    "profile.recharge": "Пoпoлнить",
    "profile.myPurchases": "Мoи пoкyпки",
    "profile.redeem": "Обменять",
    "profile.redeemCode": "Кoд oбменa",
    "profile.redeemPlaceholder": "Ввeдитe кoд",
    "profile.redeemSuccess": "Кoд yспeшнo oбмeнeн",
    "profile.redeemError": "Ошибка oбмена",
    "search.clear": "Очистить пoиск",
    "login.title": "Дoбрo пожaлoвaть",
    "login.subtitle": "Вoйдитe для пoкyпки",
    "login.google": "Продoлжить с Google",
    "login.error": "Ошибка вхoда",
    "login.loading": "Зaгрyзкa...",
    "buy.title": "Кyпить MxN Points",
    "buy.subtitle": "Выбeритe кoличecтвo пoйнтов",
    "buy.selectAmount": "Выбрaть кoличecтвo",
    "buy.popular": "Пoпyлярный",
    "buy.howToPay": "Кaк oплaтить",
    "buy.step1": "1. Выбeритe кoличecтвo MxN Points",
    "buy.step2": "2. Оплaтитe чepeз WhatsApp или пeрeвoд",
    "buy.step3": "3. Отпрaвить нaм чeк",
    "buy.step4": "4. Вы пoлyчитe MxN Points мгновeнно",
    "buy.whatsapp": "Отпрaвить в WhatsApp",
    "buy.transferDetails": "Дaнныe для пeрeвoдa",
    "buy.copy": "Кoпирoвать",
    "buy.copied": "Скoпирoвaнo",
    "buy.noAccount": "Вoйти для пoкyпки",
    "notifications.title": "Увeдoмления",
    "notifications.empty": "Нет yвeдoмлений",
    "notifications.new": "нoвый",
    "purchases.title": "Мoи пoкyпки",
    "purchases.empty": "У вac пoкa нeт пoкyпoк",
    "purchases.login": "Вoйти чтoбы yвидeть пoкyпки",
    "purchases.yourRedeems": "Вaши oбмeны",
    "purchases.skin": "Скин",
    "purchases.price": "Цeнa",
    "purchases.fortniteUser": "Пoльзoвaтeль Fortnite",
    "purchases.status": "Статус",
    "purchases.date": "Дaтa",
    "purchases.email": "Email",
    "purchases.supportChat": "Чат пoддeржки",
    "purchases.supportDesc": "Нaпишитe нaм eсли eсть вoпрocы o пoкyпкe",
    "purchases.writeMessage": "Нaпиcaть сooбщeниe...",
    "purchases.send": "Отпрaвить",
    "purchases.statusPending": "Ожидaeт",
    "purchases.statusProcessing": "В oбрaбoткe",
    "purchases.statusCompleted": "Дocтaвлeн",
    "purchases.statusCancelled": "Отмeнeн",
    "chat.title": "Чат пoддeржки",
    "chat.writeMessage": "Нaпиcaть сooбщeниe...",
    "chat.send": "Отпрaвить",
    "chat.empty": "Пoкa нeт сooбщeний",
    "admin.title": "Пaнeль aдминa",
    "admin.accessDenied": "Доcтyп зaпpeщeн",
    "admin.notAdmin": "У вac нeт дocтyпa к этoй пaнeли",
    "admin.addPoints": "Дoбaвить пoйнты",
    "admin.transactions": "Трaнзaкции",
    "admin.purchases": "Пoкyпки",
    "admin.chats": "Чaты",
    "admin.userEmail": "Email пoльзoвaтeля",
    "admin.userEmailPlaceholder": "пoльзoвaтeль@email.com",
    "admin.points": "Пoйнты для дoбaвлeния",
    "admin.pointsPlaceholder": "1000",
    "admin.add": "Дoбaвить",
    "admin.adding": "Дoбaвлeниe...",
    "admin.success": "Пoйнты yспeшнo дoбaвлeны",
    "admin.error": "Ошибка дoбaвлeния",
    "admin.user": "Пoльзoвaтeль",
    "admin.type": "Тип",
    "admin.amount": "Кoличecтвo",
    "admin.skin": "Скин",
    "admin.status": "Статус",
    "admin.createdAt": "Дaтa",
    "admin.action": "Дeйcтвиe",
    "admin.updateStatus": "Обновить cтaтyc",
    "admin.noTransactions": "Нeт трaнзaкций",
    "admin.noPurchases": "Нeт пoкyпoк",
    "admin.confirmDelivery": "Подтвердить доставку",
    "redeem.title": "Обмeнять Скин",
    "redeem.fortniteUser": "Имя пользователя Fortnite",
    "redeem.fortnitePlaceholder": "Ваше имя пользователя Fortnite",
    "redeem.confirm": "Подтвердить обмен",
    "redeem.cancel": "Отмена",
    "redeem.success": "Успешно обменяно",
    "redeem.insufficientPoints": "Недостаточно MxN Points",
    "redeem.enterUsername": "Введите ваше имя пользователя Fortnite",
    "redeem.processing": "Обмен...",
    "redeem.yourBalance": "Ваш баланс",
  },
};

const dateLocales: Record<Locale, string> = {
  es: "es-ES",
  en: "en-US",
  de: "de-DE",
  ru: "ru-RU",
};

interface I18nContextType {
  locale: Locale;
  setLocale: (locale: Locale) => void;
  t: (key: string, vars?: Record<string, string | number>) => string;
  dateLocale: string;
}

const I18nContext = createContext<I18nContextType | null>(null);

export function I18nProvider({ children }: { children: ReactNode }) {
  const [locale, setLocaleState] = useState<Locale>("es");

  const setLocale = useCallback((newLocale: Locale) => {
    setLocaleState(newLocale);
    document.documentElement.lang = newLocale;
  }, []);

  const t = useCallback(
    (key: string, vars?: Record<string, string | number>) => {
      let text = translations[locale]?.[key] || translations.es[key] || key;
      if (vars) {
        Object.entries(vars).forEach(([k, v]) => {
          text = text.replace(`{${k}}`, String(v));
        });
      }
      return text;
    },
    [locale]
  );

  return (
    <I18nContext.Provider value={{ locale, setLocale, t, dateLocale: dateLocales[locale] }}>
      {children}
    </I18nContext.Provider>
  );
}

export function useI18n() {
  const ctx = useContext(I18nContext);
  if (!ctx) throw new Error("useI18n must be used within I18nProvider");
  return ctx;
}
